# Інструкція (README)

Цей проект реалізує простий веб-додаток для управління документами з використанням Node.js, Express.js та MongoDB. Додаток включає функціональність для вставки документів, перегляду всіх документів за допомогою курсорів та отримання статистичних даних.

## Встановлення

### Вимоги

- Node.js
- MongoDB Atlas або локальна інсталяція MongoDB

### Кроки

1. Клонувати репозиторій:
    ```bash
    git clone <URL репозиторію>
    cd <назва папки репозиторію>
    ```

2. Встановити залежності:
    ```bash
    npm install
    ```

3. Запустити сервер:
    ```bash
    node app.js
    ```

## Файлова структура

```
|-- config/
|   `-- config.js  # Конфігурація для підключення до MongoDB
|-- controllers/
|   `-- documentController.js  # Контролери для обробки запитів
|-- models/
|   `-- document.js  # Модель для доступу до колекції документів
|-- routes/
|   `-- router.js  # Маршрутизація запитів
|-- views/
|   |-- documents.pug  # Шаблон для відображення документів
|   `-- statistic.pug  # Шаблон для відображення статистики
|-- .env  # Файл конфігурації середовища
|-- package.json  # Файл з інформацією про проект та залежності
|-- README.md  # Ця інструкція
|-- server.js  # Головний файл для запуску серверу
```

## Використання

### Додати новий документ

- Відкрити головну сторінку `http://localhost:3000/`
- Заповнити форму "Add New Document" з полями `Name`, `Description` та `Type`
- Натиснути кнопку "Add Document"

### Переглянути всі документи

- Відкрити головну сторінку `http://localhost:3000/`
- Всі документи будуть відображені у списку на головній сторінці

### Переглянути статистику

- Перейти на сторінку `http://localhost:3000/statistic`
- Ви побачите статистичні дані про документи: загальну кількість документів, кількість унікальних імен та тип документів

## Опис Файлів

### Контролери

#### `documentController.js`

- **insertOne(req, res)**: Вставляє один новий документ у колекцію
- **getDocumentWithCursor(req, res)**: Використовує курсор для перебору всіх документів та відображення їх у списку
- **getStatistic(req, res)**: Виконує агрегаційний запит для отримання статистичних даних про документи та відображає їх

### Маршрути

#### `router.js`

- **GET /**: Викликає `getDocumentWithCursor`, щоб отримати та відобразити всі документи
- **POST /insertOne**: Викликає `insertOne`, щоб додати новий документ
- **GET /statistic**: Викликає `getStatistic`, щоб отримати та відобразити статистичні дані

### Конфігурація

#### `config.js`

- **connectDB()**: Підключається до бази даних MongoDB та повертає об'єкт бази даних
- **getDb()**: Повертає підключену базу даних

### Моделі

#### `document.js`

- **getCollection()**: Повертає колекцію документів з бази даних

### Шаблони

#### `documents.pug`

Відображає список документів та форму для додавання нового документа.

#### `statistic.pug`

Відображає статистичні дані про документи.

## Запуск Серверу

Для запуску серверу, скористайтесь командою:

```bash
node app.js
```

Сервер буде запущено на порті, вказаному у файлі `.env` (за замовчуванням 3000). Ви зможете отримати доступ до додатку за адресою `http://localhost:<PORT>`.

## Висновок

Цей проект демонструє використання Node.js, Express.js та MongoDB для створення простого веб-додатку для управління документами. Ви можете розширити функціональність додатку відповідно до ваших потреб.
